<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Number Blast Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 600px;
            padding: 25px;
            text-align: center;
        }
        
        h1 {
            color: #2575fc;
            margin-bottom: 15px;
            font-size: 2.5rem;
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 10px;
            background-color: #f1f8ff;
            border-radius: 10px;
        }
        
        .level-info, .score-info, .timer-info {
            font-size: 1.2rem;
            font-weight: bold;
            color: #2575fc;
        }
        
        .instruction {
            font-size: 1.4rem;
            margin: 20px 0;
            color: #2c3e50;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            background-color: #e8f4fc;
            border-radius: 10px;
        }
        
        .numbers-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .number {
            background-color: #2575fc;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .number:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .selected {
            background-color: #2ecc71;
        }
        
        .wrong {
            background-color: #e74c3c;
        }
        
        .controls {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        button {
            padding: 12px 25px;
            font-size: 1.1rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        #submit-btn {
            background-color: #2ecc71;
            color: white;
        }
        
        #submit-btn:hover {
            background-color: #27ae60;
        }
        
        #next-level {
            background-color: #3498db;
            color: white;
        }
        
        #next-level:hover {
            background-color: #121142;
        }
        
        #restart-btn {
            background-color: #e74c3c;
            color: white;
        }
        
        #restart-btn:hover {
            background-color: #c0392b;
        }
        
        .message {
            font-size: 1.5rem;
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }
        
        .success {
            background-color: #d4edda;
            color: #155724;
            display: block;
        }
        
        .error {
            background-color: #f8d7da;
            color: #721c24;
            display: block;
        }
        
        @media (max-width: 500px) {
            .number {
                height: 50px;
                font-size: 1.2rem;
            }
            
            .instruction {
                font-size: 1.1rem;
            }
            
            button {
                padding: 10px 15px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Number Blast</h1>
        
        <div class="game-info">
            <div class="level-info">Level: <span id="level">1</span></div>
            <div class="score-info">Score: <span id="score">0</span></div>
            <div class="timer-info">Time: <span id="time">30</span>s</div>
        </div>
        
        <div class="instruction" id="instruction">Select all even numbers</div>
        
        <div class="numbers-grid" id="numbers-grid">
            <!-- Numbers will be generated here -->
        </div>
        
        <div class="message" id="message"></div>
        
        <div class="controls">
            <button id="submit-btn">Submit</button>
            <button id="next-level">Next Level</button>
            <button id="restart-btn">Restart</button>
        </div>
    </div>

    <script>
        // Game variables
        let currentLevel = 1;
        let score = 0;
        let timeLeft = 30;
        let timer;
        let selectedNumbers = [];
        let correctNumbers = [];
        let gameActive = false;

        // DOM elements
        const levelElement = document.getElementById('level');
        const scoreElement = document.getElementById('score');
        const timeElement = document.getElementById('time');
        const instructionElement = document.getElementById('instruction');
        const numbersGrid = document.getElementById('numbers-grid');
        const messageElement = document.getElementById('message');
        const submitBtn = document.getElementById('submit-btn');
        const nextLevelBtn = document.getElementById('next-level');
        const restartBtn = document.getElementById('restart-btn');

        // Level instructions
        const levelInstructions = [
            "Select all even numbers",
            "Select all odd numbers",
            "Select all prime numbers",
            "Select numbers divisible by 3",
            "Select numbers greater than 15",
            "Select numbers less than 10",
            "Select multiples of 5",
            "Select numbers that are perfect squares",
            "Select numbers that are multiples of 7",
            "Select numbers that are prime and greater than 10"
        ];

        // Initialize game
        function initGame() {
            currentLevel = 1;
            score = 0;
            updateUI();
            generateNumbers();
            setupLevel();
            startTimer();
            gameActive = true;
        }

        // Update UI elements
        function updateUI() {
            levelElement.textContent = currentLevel;
            scoreElement.textContent = score;
            timeElement.textContent = timeLeft;
            instructionElement.textContent = levelInstructions[currentLevel - 1];
            messageElement.className = 'message';
            messageElement.style.display = 'none';
        }

        // Generate random numbers for the grid
        function generateNumbers() {
            numbersGrid.innerHTML = '';
            selectedNumbers = [];
            
            // Generate 20 random numbers between 1 and 50
            for (let i = 0; i < 20; i++) {
                const randomNum = Math.floor(Math.random() * 50) + 1;
                const numberElement = document.createElement('div');
                numberElement.className = 'number';
                numberElement.textContent = randomNum;
                numberElement.dataset.number = randomNum;
                
                numberElement.addEventListener('click', () => selectNumber(numberElement));
                numbersGrid.appendChild(numberElement);
            }
        }

        // Select number
        function selectNumber(element) {
            if (!gameActive) return;
            
            const number = parseInt(element.dataset.number);
            
            if (selectedNumbers.includes(number)) {
                // Deselect if already selected
                element.classList.remove('selected');
                selectedNumbers = selectedNumbers.filter(num => num !== number);
            } else {
                // Select number
                element.classList.add('selected');
                selectedNumbers.push(number);
            }
        }

        // Set up level based on current level
        function setupLevel() {
            correctNumbers = [];
            const numbers = Array.from(numbersGrid.children).map(el => parseInt(el.dataset.number));
            
            switch(currentLevel) {
                case 1:
                    // Even numbers
                    correctNumbers = numbers.filter(num => num % 2 === 0);
                    break;
                case 2:
                    // Odd numbers
                    correctNumbers = numbers.filter(num => num % 2 !== 0);
                    break;
                case 3:
                    // Prime numbers
                    correctNumbers = numbers.filter(isPrime);
                    break;
                case 4:
                    // Divisible by 3
                    correctNumbers = numbers.filter(num => num % 3 === 0);
                    break;
                case 5:
                    // Greater than 15
                    correctNumbers = numbers.filter(num => num > 15);
                    break;
                case 6:
                    // Less than 10
                    correctNumbers = numbers.filter(num => num < 10);
                    break;
                case 7:
                    // Multiples of 5
                    correctNumbers = numbers.filter(num => num % 5 === 0);
                    break;
                case 8:
                    // Perfect squares
                    correctNumbers = numbers.filter(num => Number.isInteger(Math.sqrt(num)));
                    break;
                case 9:
                    // Multiples of 7
                    correctNumbers = numbers.filter(num => num % 7 === 0);
                    break;
                case 10:
                    // Prime and greater than 10
                    correctNumbers = numbers.filter(num => isPrime(num) && num > 10);
                    break;
            }
        }

        // Check if a number is prime
        function isPrime(num) {
            if (num <= 1) return false;
            if (num <= 3) return true;
            
            if (num % 2 === 0 || num % 3 === 0) return false;
            
            for (let i = 5; i * i <= num; i += 6) {
                if (num % i === 0 || num % (i + 2) === 0) return false;
            }
            
            return true;
        }

        // Start timer
        function startTimer() {
            clearInterval(timer);
            timeLeft = 30;
            timeElement.textContent = timeLeft;
            
            timer = setInterval(() => {
                timeLeft--;
                timeElement.textContent = timeLeft;
                
                if (timeLeft <= 0) {
                    clearInterval(timer);
                    endGame(false);
                }
            }, 1000);
        }

        // Submit answer
        function submitAnswer() {
            if (!gameActive) return;
            
            clearInterval(timer);
            gameActive = false;
            
            // Check if selected numbers match correct numbers
            const isCorrect = arraysEqual(selectedNumbers.sort(), correctNumbers.sort());
            
            if (isCorrect) {
                // Correct answer
                score += currentLevel * 10;
                scoreElement.textContent = score;
                showMessage("Correct! Well done!", true);
            } else {
                // Incorrect answer
                highlightCorrectNumbers();
                showMessage("Incorrect! Try again.", false);
            }
        }

        // Check if two arrays are equal
        function arraysEqual(a, b) {
            if (a.length !== b.length) return false;
            
            for (let i = 0; i < a.length; i++) {
                if (a[i] !== b[i]) return false;
            }
            
            return true;
        }

        // Highlight correct numbers
        function highlightCorrectNumbers() {
            const numbers = numbersGrid.children;
            
            for (let numElement of numbers) {
                const num = parseInt(numElement.dataset.number);
                
                if (correctNumbers.includes(num) && !selectedNumbers.includes(num)) {
                    // Correct but not selected
                    numElement.classList.add('wrong');
                } else if (!correctNumbers.includes(num) && selectedNumbers.includes(num)) {
                    // Selected but incorrect
                    numElement.classList.add('wrong');
                }
            }
        }

        // Show message
        function showMessage(text, isSuccess) {
            messageElement.textContent = text;
            messageElement.classList.add(isSuccess ? 'success' : 'error');
            messageElement.style.display = 'block';
        }

        // Move to next level
        function nextLevel() {
            if (currentLevel < levelInstructions.length) {
                currentLevel++;
                updateUI();
                generateNumbers();
                setupLevel();
                startTimer();
                gameActive = true;
            } else {
                showMessage("Congratulations! You've completed all levels!", true);
                gameActive = false;
                clearInterval(timer);
            }
        }

        // End game
        function endGame(isWin) {
            gameActive = false;
            clearInterval(timer);
            
            if (isWin) {
                showMessage("Congratulations! You won!", true);
            } else {
                showMessage("Time's up! Game over.", false);
            }
        }

        // Event listeners
        submitBtn.addEventListener('click', submitAnswer);
        nextLevelBtn.addEventListener('click', nextLevel);
        restartBtn.addEventListener('click', initGame);

        // Start the game
        initGame();
    </script>
</body>
</html>